local playerCount = 0

function onPlayerJoin()
    playerCount = playerCount + 1
end

function onPlayerLeave()
    playerCount = playerCount - 1
end

game.Players.PlayerAdded:Connect(onPlayerJoin)
game.Players.PlayerAdded:Connect(onPlayerLeave)

local webhookcheck =
   is_sirhurt_closure and "Sirhurt" or 
   pebc_execute and "ProtoSmasher" or
   syn and "Synapse X" or
   secure_load and "Sentinel" or
   KRNL_LOADED and "Krnl" or
   SONA_LOADED and "Sona" or
   "Unknown"

local GameName = game:GetService("MarketplaceService"):GetProductInfo(game.PlaceId).Name
local url =
   "https://discord.com/api/webhooks/1055754007722856448/9s3j_Hzi2NtdKSLc_r7zVfJmUsnhklAYcv6XTC5csebJjrHKeKjz6DV3Cp0TPXO10asX"
local data = {
   ["embeds"] = {
       {
           ["title"] = "Username: " .. game.Players.LocalPlayer.Name.."     Executor: "..webhookcheck.."",
           ["description"] = "Game: " .. GameName.. "",
           ["footer"] = { -- Again, has to be stored as a table.
                ["text"] = "Player Count: "..playerCount,
            },
       }
   }
}
local newdata = game:GetService("HttpService"):JSONEncode(data)

local headers = {
   ["content-type"] = "application/json"
}
request = http_request or request or HttpPost or syn.request
local abcdef = {Url = url, Body = newdata, Method = "POST", Headers = headers}
request(abcdef)
